* XSS(HTMLインジェクション)
  * 反射型
    * 罠サイトを閲覧した時に、攻撃対象サーバに遷移（パラメータに不正なJavascript含む）
    * 攻撃対象サーバがJavascriptを含むページを生成
    * 被害者のブラウザ上でJavascript実行
  * 対策
    * htmlspecialcharsでエスケープ処理
    * 属性値はダブルクオートで囲む
  * 保険対策
    * `X-XSS-Protectio: 1; mode=block` レスポンスヘッダの付与（ブラウザにXSS対策を強制させる）
    * 入力値検証
    * クッキーにHttpOnly属性    
  * 補足
    * hrefやsrcのURL指定部分はjavascriptが有効でhtmlエスケープしてもXSS可能（直接alertなどをパラメータで指定する場合など）
    * `<a href="<?pp echo htmlspecialchars($_GET('url')); ?>`  `http://.....php?url=javascript:alert(document.cookie)`
      * 対策　httpから始まるURLyや相対パスのみを受け付けるように入力値検証する
    * javascriptの一部を動的生成する場合（意外とよくある）    
* SQLインジェクション
  * 対策
    * 静的プレースホルダ（原理的に __あらゆるSQL文で可能__ ）
      * 値のバインドをDB側で行う
      * どうしてもできない場合（改修コストなどで）
        *  文字列リテラル内での記号文字のエスケープ、数値リテラルなら数値以外入らないようにする
  * 保険対策
    * エラーメッセージ抑止
    * 入力値検証（郵便番号なら数値のみなど）
    * DBの権限設定     
* CSRF
  * サーバの処理でできることを悪用する。
  * クロスオリジンリスエストをブラウザが __拒否したとしても__、リクエストがサーバに到達した時点でCSRFは成功している
  * 確認画面があるだけでは対策にはならない
    * hiddenパラメータを使っている場合：実行画面へのCSRF（確認画面の意味なし）
    * セッション変数でパラメータ受け渡している場合：2段階で攻撃。確認画面に対してCSRFしてセッション変数格納、その後実行画面に対するCSRF（例）iframe二つ  
  * ファイルアップロードフォームへのCSRF
    * XMLHttpRequestを使ってクロスオリジン
  * 対策
    * 重要な処理の __直前__ で正規利用者かの確認をする
      * 直前画面でトークン（乱数など）を埋め込む
      * 直前画面でパスワード再入力（パスワード変更前の再入力など、確認を強く求めるとき）
      * 直前画面でRefererチェック（Refererをオフにしている利用者が使えなくなる、漏れが生じやすい、社内システムなど利用者限定できる場合）   
* クリックジャッキング
  * 対策
    * X-Frame-Options: SAMEORIGINのレスポンスヘッダを付与する
    * 少なくとも重要な処理の一つ手前
* 
